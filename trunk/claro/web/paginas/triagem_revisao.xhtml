<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:core="http://java.sun.com/jsp/jstl/core"
	xmlns:f="http://java.sun.com/jsf/core">
	
	<ui:composition template="/template/template.xhtml">
		<ui:define name="pad">&nbsp;</ui:define>
		<ui:define name="titulo">#{msgs.nome_aplicativo_resumido}</ui:define>
		<ui:define name="titulo_pagina">#{msgs.revisar_triagem}</ui:define>
		<ui:define name="conteudo">
			<style type="text/css">
				.coluna1_form{
					width: 160px;
					text-align: right;
					font-weight: bolder;
					background-color: #F2F2F2;
					white-space: nowrap;
				}
				.coluna4_form{
					width: 310px;
					white-space: nowrap;
				}
				.coluna1{
					width: 10%;
					text-align: right;
					font-weight: bolder;
					background-color: #F2F2F2;
					white-space: nowrap;
					font-size: 16px;
				}
				.titulo_resp{
					text-align: center;
					font-weight: bolder;
					background-color: #FF0000;
					white-space: nowrap;
					font-size: 16px;
				}
				.msg_resp{
					text-align: center;
					font-weight: bolder;
					background-color: #FF5555;
					white-space: nowrap;
					font-size: 12px;
				}
				.titulo_resp_ok{
					text-align: center;
					font-weight: bolder;
					background-color: #00FF00;
					white-space: nowrap;
					font-size: 16px;
				}
				.msg_resp_ok{
					text-align: center;
					font-weight: bolder;
					background-color: #B0E2FF;
					white-space: nowrap;
					font-size: 12px;
				}
				.coluna2{
					width: 23%;
				}
				.coluna4{
					width: 23%;
				}
				.coluna6{
					width: 24%;
				}
			</style>		
		<h:form id="formGeral">
			<div id="container_conteudo_interno" style="background-color: #FFFFFF;" class="conteudo-principal">
				<p:panel id="pnl" header="#{msgs.resumo_inf_lote}" widgetVar="panel" collapsed="#{triagemBean.painelEncolhido}">
					<p:panelGrid style="width:945px;">
						<p:row>
							<p:column styleClass="#{triagemBean.resultadoTriagem.cod == 2 ? 'titulo_resp_ok' : triagemBean.resultadoTriagem.cod == 3 ? 'titulo_resp_ok' : 'titulo_resp'}">
								#{triagemBean.resultadoTriagem.descricao}
							</p:column>
						</p:row>
						<p:row>
							<p:column styleClass="#{triagemBean.resultadoTriagem.cod == 2 ? 'msg_resp_ok' : triagemBean.resultadoTriagem.cod == 3 ? 'msg_resp_ok' : 'msg_resp'}">
								#{triagemBean.resultadoTriagem.msgRetorno}
							</p:column>
						</p:row>
					</p:panelGrid>
					<p:panelGrid style="width:945px;">
						<f:facet name="footer">
							<p:row>
								<p:column style="text-align:right;">
									<core:if test="${triagemBean.resultadoTriagem.cod != 5}">
										<p:commandButton action="#{triagemBean.salvaTriagem()}" value="#{msgs.salvar_triagem}" type="submit"/>
									</core:if>
									<p:commandButton action="#{triagemBean.voltaParaFormularioCorrgirDados()}" value="#{msgs.voltar_alterar_triagem}" type="submit"/>
								</p:column>
							</p:row>
					    </f:facet>
					</p:panelGrid>
					
					<p:panelGrid columnClasses="coluna1,coluna2,coluna3,coluna4,coluna5,coluna6" style="width:945px">
						<p:row>
							<p:column styleClass="coluna1">#{msgs.cliente_msg}</p:column>
							<p:column styleClass="coluna2"><h:outputText value="#{triagemBean.triagemLote.calendario.warehouse.cliente.nomeFantasia}" /></p:column>
							
							<p:column styleClass="coluna1">#{msgs.warehouse_msg}</p:column>
							<p:column styleClass="coluna4"><h:outputText value="#{triagemBean.triagemLote.calendario.warehouse.nomeFantasia}" /></p:column>
							
							<p:column styleClass="coluna1">#{msgs.qtd_msg}</p:column>
							<p:column styleClass="coluna6"><h:outputText value="#{triagemBean.quantidadeAparelhoTriado} #{msgs.de_msg} #{triagemBean.triagemLote.quantidade}" /></p:column>
						</p:row>
						<p:row>
							<p:column styleClass="coluna1">#{msgs.marca_msg}</p:column>
							<p:column styleClass="coluna2"><h:outputText value="#{triagemBean.triagemLote.aparelhoModelo.aparelhoMarca.nome}" /></p:column>
							
							<p:column styleClass="coluna1">#{msgs.modelo_msg}</p:column>
							<p:column styleClass="coluna4"><h:outputText value="#{triagemBean.triagemLote.aparelhoModelo.nome}" /></p:column>
							
							<p:column styleClass="coluna1">#{msgs.familia_msg}</p:column>
							<p:column styleClass="coluna6"><h:outputText value="#{triagemBean.triagemLote.calendario.descFamilias}" /></p:column>
						</p:row>
						<p:row>
							<p:column styleClass="coluna1">#{msgs.responsavel_msg}</p:column>
							<p:column styleClass="coluna2"><h:outputText value="#{triagemBean.triagemLote.calendario.usuarioResponsavel.nome}" /></p:column>
							
							<p:column styleClass="coluna1">#{msgs.contato_msg}</p:column>
							<p:column styleClass="coluna4"><h:outputText value="#{triagemBean.triagemLote.calendario.contato}" /></p:column>
							
							<p:column styleClass="coluna1">#{msgs.codigo_lote}</p:column>
							<p:column styleClass="coluna6"><h:outputText value="#{triagemBean.triagemLote.id}" /></p:column>
						</p:row>
					</p:panelGrid>
					<br/>
					<!-- ############################################################################################################## -->
					<p:panelGrid style="width:945px">
						<p:row>
							<core:if test="${triagemBean.temTiposSerial1 == true}">
								<p:column styleClass="coluna1_form"><h:outputLabel value="#{triagemBean.triagemLote.aparelhoModelo.id1.descricao}"/></p:column>
								<p:column><h:outputText value="#{triagemBean.triagem.identificador1}" /></p:column>
							</core:if>
							
							<core:if test="${triagemBean.temTiposSerial2 == true}">
								<p:column styleClass="coluna1_form"><h:outputLabel value="#{triagemBean.triagemLote.aparelhoModelo.id2.descricao}"/></p:column>
								<p:column><h:outputText value="#{triagemBean.triagem.identificador2}" /></p:column>
							</core:if>
							
							<core:if test="${triagemBean.temTiposSerial3 == true}">
								<p:column styleClass="coluna1_form"><h:outputLabel value="#{triagemBean.triagemLote.aparelhoModelo.id3.descricao}"/></p:column>
								<p:column><h:outputText value="#{triagemBean.triagem.identificador3}" /></p:column>
							</core:if>
							
							<core:if test="${triagemBean.temTiposSerial4 == true}">
								<p:column styleClass="coluna1_form"><h:outputLabel value="#{triagemBean.triagemLote.aparelhoModelo.id4.descricao}"/></p:column>
								<p:column><h:outputText value="#{triagemBean.triagem.identificador4}" /></p:column>
							</core:if>
						</p:row>
					</p:panelGrid>
					<br/>
					<!-- ############################################################################################################## -->
					<p:panelGrid style="width:945px">
						<p:row>
							<p:column styleClass="coluna1_form"><h:outputLabel value="#{msgs.consta_aut_ccc}"/></p:column>
							<p:column styleClass="coluna4_form"><h:outputText value="#{triagemBean.triagem.autorizacaoCcc == true ? 'Sim' : 'Não'}" /></p:column>

							<p:column styleClass="coluna1_form"><h:outputLabel value="#{msgs.possui_check_list}"/></p:column>
							<p:column><h:outputText value="#{triagemBean.triagem.possuiCheckList == true ? 'Sim' : 'Não'}" /></p:column>
						</p:row>
						
						<p:row>
							<p:column styleClass="coluna1_form"><h:outputLabel value="#{msgs.ap_bloqueado}"/></p:column>
							<p:column styleClass="coluna4_form"><h:outputText value="#{triagemBean.triagem.aparelhoBloqueado == true ? 'Sim' : 'Não'}" /></p:column>

							<p:column styleClass="coluna1_form"><h:outputLabel value="#{msgs.operadora_msg}"/></p:column>
							<p:column><h:outputText value="#{triagemBean.operadoras.descricao}" /></p:column>
						</p:row>
						
						<p:row>
							<p:column styleClass="coluna1_form"><h:outputLabel value="#{msgs.tempo_uso}"/></p:column>
							<p:column styleClass="coluna4_form"><h:outputText value="#{triagemBean.tempoUsoAparelho}" /></p:column>

							<p:column styleClass="coluna1_form"><h:outputLabel value="#{msgs.aparencia_msg}"/></p:column>
							<p:column><h:outputText value="#{triagemBean.aparenciaAparelho.descricao}" /></p:column>
						</p:row>
						
						<p:row>
							<p:column styleClass="coluna1_form"><h:outputLabel value="#{msgs.sintoma_inf}"/></p:column>
							<p:column styleClass="coluna4_form"><h:outputText value="#{triagemBean.sintomaInformadoAparelho.descricao}" /></p:column>

							<p:column styleClass="coluna1_form"><h:outputLabel value="#{msgs.sintoma_constatado}"/></p:column>
							<p:column><h:outputText value="#{triagemBean.sintomaConstatadoAparelho.descricao}" /></p:column>
						</p:row>
					</p:panelGrid>
					<br/>
					<!-- ############################################################################################################## -->
					<p:panelGrid style="width:945px">
						<p:row>
							<p:column styleClass="coluna1_form"><h:outputLabel value="#{msgs.num_nf_venda}"/></p:column>
							<p:column styleClass="coluna4_form"><h:outputText value="#{triagemBean.triagem.nfVendaNumero}" /></p:column>

							<p:column styleClass="coluna1_form"><h:outputLabel value="#{msgs.data_nf_venda}"/></p:column>
							<p:column>
								<h:outputText value="#{triagemBean.triagem.nfVendaData}">
									<f:convertDateTime pattern="dd/MM/yyyy" type="date" />
								</h:outputText>
							</p:column>
						</p:row>
						<p:row>
							<p:column styleClass="coluna1_form"><h:outputLabel value="#{msgs.num_nf_troca}"/></p:column>
							<p:column styleClass="coluna4_form"><h:outputText value="#{triagemBean.triagem.nfTrocaNumero}" /></p:column>

							<p:column styleClass="coluna1_form"><h:outputLabel value="#{msgs.data_nf_troca}"/></p:column>
							<p:column>
								<h:outputText value="#{triagemBean.triagem.nfTrocaData}">
									<f:convertDateTime pattern="dd/MM/yyyy" type="date" />
								</h:outputText>
							</p:column>
						</p:row>
					</p:panelGrid>
					<br/>
					<!-- ############################################################################################################## -->
					<p:panelGrid style="width:945px">
						<p:row>
							<p:column styleClass="coluna1_form"><h:outputLabel value="#{msgs.os_num_os} 1"/></p:column>
							<p:column styleClass="coluna4_form"><h:outputText value="#{triagemBean.triagem.osNumero1}" /></p:column>

							<p:column styleClass="coluna1_form"><h:outputLabel value="#{msgs.os_cod_peca_os} 1"/></p:column>
							<p:column><h:outputText value="#{triagemBean.triagem.osCodPeca1}" /></p:column>
						</p:row>
						<p:row>
							<p:column styleClass="coluna1_form"><h:outputLabel value="#{msgs.os_data_abert_os} 1"/></p:column>
							<p:column styleClass="coluna4_form">
								<h:outputText value="#{triagemBean.triagem.osDataAbertura1}">
									<f:convertDateTime pattern="dd/MM/yyyy" type="date" />
								</h:outputText>
							</p:column>
	
							<p:column styleClass="coluna1_form"><h:outputLabel value="#{msgs.os_data_entrega_os} 1"/></p:column>
							<p:column>
								<h:outputText value="#{triagemBean.triagem.osDataEntrega1}">
									<f:convertDateTime pattern="dd/MM/yyyy" type="date" />
								</h:outputText>
							</p:column>
						</p:row>
					</p:panelGrid>
					<br/>
					<!-- ############################################################################################################## -->
					<p:panelGrid style="width:945px">
						<p:row>
							<p:column styleClass="coluna1_form"><h:outputLabel value="#{msgs.os_num_os} 2"/></p:column>
							<p:column styleClass="coluna4_form"><h:outputText value="#{triagemBean.triagem.osNumero2}" /></p:column>

							<p:column styleClass="coluna1_form"><h:outputLabel value="#{msgs.os_cod_peca_os} 2"/></p:column>
							<p:column><h:outputText value="#{triagemBean.triagem.osCodPeca2}" /></p:column>
						</p:row>
						<p:row>
							<p:column styleClass="coluna1_form"><h:outputLabel value="#{msgs.os_data_abert_os} 2"/></p:column>
							<p:column styleClass="coluna4_form">
								<h:outputText value="#{triagemBean.triagem.osDataAbertura2}">
									<f:convertDateTime pattern="dd/MM/yyyy" type="date" />
								</h:outputText>
							</p:column>

							<p:column styleClass="coluna1_form"><h:outputLabel value="#{msgs.os_data_entrega_os} 2"/></p:column>
							<p:column>
								<h:outputText value="#{triagemBean.triagem.osDataEntrega2}">
									<f:convertDateTime pattern="dd/MM/yyyy" type="date" />
								</h:outputText>
							</p:column>
						</p:row>
					</p:panelGrid>
					<br/>
					<!-- ############################################################################################################## -->
					<p:panelGrid style="width:945px">
						<p:row>
							<p:column styleClass="coluna1_form"><h:outputLabel value="#{msgs.os_num_os} 3"/></p:column>
							<p:column styleClass="coluna4_form"><h:outputText value="#{triagemBean.triagem.osNumero3}" /></p:column>

							<p:column styleClass="coluna1_form"><h:outputLabel value="#{msgs.os_cod_peca_os} 3"/></p:column>
							<p:column><h:outputText value="#{triagemBean.triagem.osCodPeca3}" /></p:column>
						</p:row>
						<p:row>
							<p:column styleClass="coluna1_form"><h:outputLabel value="#{msgs.os_data_abert_os} 3"/></p:column>
							<p:column styleClass="coluna4_form">
								<h:outputText value="#{triagemBean.triagem.osDataAbertura3}">
									<f:convertDateTime pattern="dd/MM/yyyy" type="date" />
								</h:outputText>
							</p:column>

							<p:column styleClass="coluna1_form"><h:outputLabel value="#{msgs.os_data_entrega_os} 3"/></p:column>
							<p:column>
								<h:outputText value="#{triagemBean.triagem.osDataEntrega3}">
									<f:convertDateTime pattern="dd/MM/yyyy" type="date" />
								</h:outputText>
							</p:column>
						</p:row>
					</p:panelGrid>
					<br/>
					<!-- ############################################################################################################## -->
					<br/>
					<!-- ############################################################################################################## -->
					<p:panelGrid style="width:945px">
						<p:row>
							<p:column styleClass="coluna1_form"><h:outputLabel value="#{msgs.observacao_msg}"/></p:column>
							<p:column><h:outputText value="#{triagemBean.triagem.observacoes}" /></p:column>
						</p:row>
					</p:panelGrid>
					<p:panelGrid style="width:945px">
						<f:facet name="footer">
							<p:row>
								<p:column style="text-align:right">
									<core:if test="${triagemBean.resultadoTriagem.cod != 5}">
										<p:commandButton action="#{triagemBean.salvaTriagem()}" value="#{msgs.salvar_triagem}" type="submit"/>
									</core:if>
									<p:commandButton action="#{triagemBean.voltaParaFormularioCorrgirDados()}" value="#{msgs.voltar_alterar_triagem}" type="submit"/>
								</p:column>
							</p:row>
					    </f:facet>
					</p:panelGrid>
				</p:panel>
		    </div>
	    </h:form>
		</ui:define>
	</ui:composition>
</html>