<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core">

<ui:composition template="/template/template.xhtml">
	<ui:define name="pad">&nbsp;</ui:define>
	<ui:define name="titulo">#{msgs.nome_aplicativo_resumido}</ui:define>
	<ui:define name="titulo_pagina">#{msgs.alterar_perfil}</ui:define>

	<ui:define name="conteudo"><div id="container_conteudo_interno" style="background-color: #FFFFFF;" class="conteudo-principal">
		<script type="text/javascript" src="../js/formatadores.js"></script>
		<style type="text/css">
			.coluna1{
				width: 15%;
				text-align: right;
			}
			.coluna2{
				width: 35%;
			}
			.coluna3{
				width: 15%;
				text-align: right;
			}
			.coluna4{
				width: 35%;
			}
			.ui-autocomplete input {
				width:390px;
			}
			
		</style>
	
		<h:form id="formularioGeral">
			<p:focus for="nome_usuario"/>
			<p:growl showDetail="true" showSummary="false" id="msg_local"/>
			<p:panel header="#{msgs.campo_busca_usuario}">
				<h:panelGrid columns="2">
					<h:outputLabel value="#{msgs.nome_msg}" for="nome_usuario" />
		            <p:autoComplete id="nome_usuario" maxResults="5" value="#{alterarCadastroBean.termoBusca}" size="100" style="width:300px" minQueryLength="3" queryDelay="500" 
		            	completeMethod="#{alterarCadastroBean.buscaNomes}">
		            	<p:ajax event="itemSelect" listener="#{alterarCadastroBean.usuarioSelecionado}" update="formularioGeral"/>  
					</p:autoComplete>
					
				</h:panelGrid>
			</p:panel>
			<br/><br/>
			<p:panelGrid columnClasses="coluna1,coluna2,coluna3,coluna4" style="width:990px">
				<p:row>
					<p:column styleClass="coluna1"><h:outputLabel value="#{msgs.nome_msg} * :" for="nome"/></p:column>
					<p:column styleClass="coluna2"><p:inputText id="nome" maxlength="25" size="40" value="#{alterarCadastroBean.usuarioCadastro.nome}" label="#{msgs.nome_msg}" required="true"/></p:column>
					
					<p:column styleClass="coluna3"><h:outputLabel value="#{msgs.sobrenome_msg} * :" for="sobrenome"/></p:column>
					<p:column styleClass="coluna4"><p:inputText id="sobrenome" maxlength="120" size="40" value="#{alterarCadastroBean.usuarioCadastro.sobrenome}" label="#{msgs.sobrenome_msg}" required="true"/></p:column>
				</p:row>
				
				<p:row>
					<p:column styleClass="coluna1"><h:outputLabel value="#{msgs.endereco_msg} * :" for="endereco"/></p:column>
					<p:column styleClass="coluna2"><p:inputText id="endereco" maxlength="150" size="60" value="#{alterarCadastroBean.usuarioCadastro.endereco}" required="true" label="#{msgs.endereco_msg}"/></p:column>
					
					<p:column styleClass="coluna3"><h:outputLabel value="#{msgs.bairro_msg} * :" for="bairo"/></p:column>
					<p:column styleClass="coluna4"><p:inputText id="bairo" maxlength="80" size="40" value="#{alterarCadastroBean.usuarioCadastro.bairro}" required="true" label="#{msgs.bairro_msg}"/></p:column>
				</p:row>
				
				<p:row>
					<p:column styleClass="coluna1"><h:outputLabel value="#{msgs.cidade_msg} * :" for="cidade"/></p:column>
					<p:column styleClass="coluna2"><p:inputText id="cidade" maxlength="80" size="40" value="#{alterarCadastroBean.usuarioCadastro.cidade}" required="true" label="#{msgs.cidade_msg}"/></p:column>
					
					<p:column styleClass="coluna3"><h:outputLabel value="#{msgs.estado_msg} * :" for="estado"/></p:column>
					<p:column styleClass="coluna4">
						<p:selectOneMenu id="estado" value="#{alterarCadastroBean.usuarioCadastro.estado}" required="true" label="#{msgs.estado_msg}">
							<f:selectItems value="#{alterarCadastroBean.estados}"/>
						</p:selectOneMenu>
					</p:column>
				</p:row>
				
				<p:row>
					<p:column styleClass="coluna1"><h:outputLabel value="#{msgs.cep_msg} * :" for="cep"/></p:column>
					<p:column styleClass="coluna2"><p:inputText id="cep" size="15" value="#{alterarCadastroBean.usuarioCadastro.cep}" required="true" maxlength="9" onkeyup="formataCep(this)" label="#{msgs.cep_msg}"/></p:column>
					
					<p:column styleClass="coluna3"><h:outputLabel value="#{msgs.perfil_msg} * :" for="perfil"/></p:column>
					<p:column styleClass="coluna4">
						<p:selectOneMenu id="perfil" value="#{alterarCadastroBean.usuarioCadastro.perfil.perfilId}" required="true" label="#{msgs.perfil_msg}">
							<f:selectItems value="#{alterarCadastroBean.perfis}"/>
						</p:selectOneMenu>
					</p:column>
				</p:row>
				
				<p:row>
					<p:column styleClass="coluna1"><h:outputLabel value="#{msgs.telefone_msg} * :" for="telefone"/></p:column>
					<p:column styleClass="coluna2"><p:inputText id="telefone" size="20" value="#{alterarCadastroBean.usuarioCadastro.telefone1}" required="true" maxlength="15" onkeyup="formataTelefone(this)" label="#{msgs.telefone_msg}"/></p:column>
					
					<p:column styleClass="coluna3"><h:outputLabel value="#{msgs.celular_msg}" for="celular"/></p:column>
					<p:column styleClass="coluna4"><p:inputText id="celular" size="20" value="#{alterarCadastroBean.usuarioCadastro.telefone2}" required="false" maxlength="15" onkeyup="formataTelefone(this)" label="#{msgs.celular_msg}"/></p:column>
				</p:row>
				
				<f:facet name="footer">
					<p:row>
						<p:column colspan="4">
							<p:commandButton action="#{alterarCadastroBean.alterar()}" value="#{msgs.msgs_salvar}" type="submit" update="formularioGeral msg_local"/>
						</p:column>
					</p:row>
			    </f:facet>
			</p:panelGrid>
		</h:form>
	</div></ui:define>
</ui:composition>
</html>